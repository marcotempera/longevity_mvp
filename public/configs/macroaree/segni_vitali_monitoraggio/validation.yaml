macroarea: segni_vitali_monitoraggio
version: 1.0

rules:
  # ===== PRESSIONE ARTERIOSA =====
  # Se si seleziona "Mai misurata" o "Non so", deve essere l'unica scelta
  - feature: pressione_valori
    rule: "if includes 'mai_misurata' then set to ['mai_misurata']"

  - feature: controllo_pressione_domiciliare
    rule: "if includes 'mai' then set to ['mai']"

  # ===== FREQUENZA CARDIACA =====
  - feature: frequenza_riposo
    rule: "if includes 'mai_misurata' then set to ['mai_misurata']"

  - feature: palpitazioni_riposo
    rule: "if includes 'mai' then set to ['mai']"

  # ===== HRV (Variabilità Cardiaca) =====
  - feature: hrv_status
    rule: "if includes 'non_so' then set to ['non_so']"

  # ===== OSSIGENAZIONE =====
  - feature: saturazione_riposo
    rule: "if includes 'mai_misurata' then set to ['mai_misurata']"

  # ===== MONITORAGGIO METABOLICO =====
  - feature: glicemia_digiuno_media
    rule: "if includes 'mai_misurata' then set to ['mai_misurata']"

  - feature: monitoraggio_cgm
    rule: "if includes 'no' then set to ['no']"

  # ===== TEMPERATURA E SONNO =====
  - feature: temperatura_basale
    rule: "if includes 'mai_misurata' then set to ['mai_misurata']"

missing:
  # Se un campo non viene inviato (es. utente salta la domanda), 
  # il motore di scoring userà la policy definita nella feature (es. "assume_zero")
  strategy: "per_feature_policy"